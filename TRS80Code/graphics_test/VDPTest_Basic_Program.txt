10 CLS
15 OUT 130,255:OUT 130,253:OUT 130,251:OUT 130,249
20 PRINT "SETTING UP VDP REGISTERS..."
30 REG=0:DAT=0:GOSUB 1000:REM GRAPHICS MODE 1, NO EXTRNL VID
40 REG=1:DAT=192:GOSUB 1000:REM 16K, DISABLE INTRPTS,NO MAGNIFY
50 REG=2:DAT=5:GOSUB 1000:REM NAME TABLE AT VDP RAM 0X1400
60 REG=3:DAT=128:GOSUB 1000:REM COLOR TABLE AT 0X2000
70 REG=4:DAT=1:GOSUB 1000:REM PATTERN TABLE AT 0X0800
80 REG=5:DAT=32:GOSUB 1000:REM SPRITE ATTR TABLE AT 0X1000
90 REG=6:DAT=0:GOSUB 1000:REM SPRITE PATTERN TABLE AT 0X0000
100 REG=7:DAT=1:GOSUB 1000:REM BACKGROUND COLOR BLACK
110 PRINT "CLEARING ascII 0-32 pattern memory..."
120 DAT=0
130 FOR ADR=2048 TO 2304
140 GOSUB 1200
145 IF ADR/5 = INT(ADR/5) THEN PRINT ".";
150 NEXT ADR
155 PRINT
160 PRINT "LOADING CHAR 0 - 255 INTO NAME TABLE"
170 DAT=0
180 FOR ADR=5120 TO 5888
181 IF ADR/15 = INT(ADR/15) THEN PRINT ".";
190 GOSUB 1200
200 DAT=DAT+1
205 IF DAT>255 THEN DAT=0
210 NEXT ADR
215 PRINT
217 GOSUB 220
218 GOTO 280
220 PRINT "SETTING COLORS RANDOMLY"
230 FOR ADR=8192 TO 8224
241 DAT=RND(14)+16+RND(15)
250 GOSUB 1200
257 PRINT ".";
260 NEXT ADR
270 PRINT
275 RETURN
280 PRINT "loading pattern table..."
290 C$="!":P$="0C18183030006000":GOSUB 2000
300 C$=CHR$(34):P$="00246C0000000000":GOSUB 2000
310 C$="#":P$="4848FC4848FC4800":GOSUB 2000
320 C$="$":P$="307CB07834F83000":GOSUB 2000
330 C$="%":P$="40A4481028548800":GOSUB 2000
340 C$="&":P$="2050206890906800":GOSUB 2000
350 C$="'":P$="0010100000000000":GOSUB 2000
360 C$="(":P$="1020202020201000":GOSUB 2000
370 C$=")":P$="2010101010102000":GOSUB 2000
380 C$="*":P$="885020F820508800":GOSUB 2000
390 C$="+":P$="202020F820202000":GOSUB 2000
400 C$=",":P$="0000000010102000":GOSUB 2000
410 C$="-":P$="000000F800000000":GOSUB 2000 
420 C$=".":P$="0000000000303000":GOSUB 2000
430 C$="/":P$="0004081020408000":GOSUB 2000
440 C$="0":P$="788C94B4A4C47800":GOSUB 2000
450 C$="1":P$="307030303030FC00":GOSUB 2000
460 C$="2":P$="788484186080FC00":GOSUB 2000
462 C$="3":P$="7884043804847800":GOSUB 2000
464 C$="4":P$="CCCCCCFC0C0C0C00":GOSUB 2000
466 C$="5":P$="FC80807804847800":GOSUB 2000
468 C$="6":P$="384080F884847800":GOSUB 2000
470 C$="7":P$="FC0C181830306000":GOSUB 2000
472 C$="8":P$="7884847884847800":GOSUB 2000
474 C$="9":P$="7884847C04087000":GOSUB 2000
476 C$=":":P$="0030300000303000":GOSUB 2000
478 C$=";":P$="0030300030301000":GOSUB 2000
480 C$="<":P$="0810204020100800":GOSUB 2000
482 C$="=":P$="0000FC00FC000000":GOSUB 2000
484 C$=">":P$="4020100810204000":GOSUB 2000
486 C$="?":P$="788C983030003000":GOSUB 2000
488 C$="@":P$="7884BCA4BC807C00":GOSUB 2000
490 C$="A":P$="788484FC84848400":GOSUB 2000
492 C$="B":P$="F88484F88484F800":GOSUB 2000
494 C$="C":P$="7884808080847800":GOSUB 2000
496 C$="D":P$="F88484848484F800":GOSUB 2000
498 C$="E":P$="FC8080F88080FC00":GOSUB 2000
500 C$="F":P$="FC8080F880808000":GOSUB 2000
502 C$="G":P$="788080BC84847800":GOSUB 2000
504 C$="H":P$="848484FC84848400":GOSUB 2000
506 C$="I":P$="FC3030303030FC00":GOSUB 2000
508 C$="J":P$="7C10101090907000":GOSUB 2000
510 C$="K":P$="8498A0C0A0988400":GOSUB 2000
512 C$="L":P$="808080808080FC00":GOSUB 2000
514 C$="M":P$="84CCB4B484848400":GOSUB 2000
516 C$="N":P$="84C4A4A4948C8400":GOSUB 2000
518 C$="O":P$="7884848484847800":GOSUB 2000
520 C$="P":P$="F88484F880808000":GOSUB 2000
522 C$="Q":P$="78848484948C7C00":GOSUB 2000
524 C$="R":P$="F88488F088888400":GOSUB 2000
526 C$="S":P$="7C8080780404F800":GOSUB 2000
528 C$="T":P$="FC30303030303000":GOSUB 2000
530 C$="U":P$="8484848484847800":GOSUB 2000
532 C$="V":P$="8484844848483000":GOSUB 2000
534 C$="W":P$="848484B4B4CC8400":GOSUB 2000
536 C$="X":P$="8484483048848400":GOSUB 2000
538 C$="Y":P$="8448483030303000":GOSUB 2000
540 C$="Z":P$="FC0810102040FC00":GOSUB 2000
542 C$=CHR$(91):P$="3820202020203800":GOSUB 2000
544 C$=CHR$(92):P$="0080402010080400":GOSUB 2000
546 C$=CHR$(93):P$="7010101010107000":GOSUB 2000
548 C$=CHR$(94):P$="2050880000000000":GOSUB 2000
550 C$=CHR$(95):P$="000000000000FC00":GOSUB 2000
551 C$=CHR$(96):P$="4060000000000000":GOSUB 2000
552 C$="a":P$="00003C4444443C00":GOSUB 2000
554 C$="b":P$="4040407844447800":GOSUB 2000
556 C$="c":P$="0000384040403800":GOSUB 2000
558 C$="d":P$="0808087888887800":GOSUB 2000
560 C$="e":P$="0000384870403800":GOSUB 2000
562 C$="f":P$="1028407040404000":GOSUB 2000
564 C$="g":P$="0000304838087000":GOSUB 2000
566 C$="h":P$="4040407048484800":GOSUB 2000
568 C$="i":P$="0020002020202000":GOSUB 2000
570 C$="j":P$="0010001010907000":GOSUB 2000
572 C$="k":P$="4040485060504800":GOSUB 2000
574 C$="l":P$="4040404040404000":GOSUB 2000
576 C$="m":P$="000000F0A8A8A800":GOSUB 2000
578 C$="n":P$="0000007048484800":GOSUB 2000
580 C$="o":P$="0000304848483000":GOSUB 2000
582 C$="p":P$="0000302830202000":GOSUB 2000
590 C$="q":P$="000060A060281000":GOSUB 2000
592 C$="r":P$="0000304840404000":GOSUB 2000
594 C$="s":P$="0000704070107000":GOSUB 2000
596 C$="t":P$="0000207020202000":GOSUB 2000
598 C$="u":P$="0000484848483800":GOSUB 2000
600 C$="v":P$="0000888850502000":GOSUB 2000
602 C$="w":P$="0000A8A8A8A85000":GOSUB 2000
604 C$="x":P$="0000505020505000":GOSUB 2000
606 C$="y":P$="0000282810107000":GOSUB 2000
608 C$="z":P$="0000780830407800":GOSUB 2000
610 C$=CHR$(123):P$="3040408040403000":GOSUB 2000
612 C$=CHR$(124):P$="3030303030303000":GOSUB 2000
614 C$=CHR$(125):P$="3008080408083000":GOSUB 2000
616 C$=CHR$(126):P$="000044A810000000":GOSUB 2000
618 FOR G=127 TO 255:C$=CHR$(G):P$="A854A854A854A800":GOSUB 2000:NEXT G
700 GOSUB 220:GOTO 700
998 END
999 REM -----------------------------------------------
1000 REM SET REGISTER
1001 REM ----------------------------------------------
1010 OUT 129,DAT
1020 REG=REG+128
1030 OUT 129,REG
1040 RETURN
1199 REM ----------------------------------------------
1200 REM WRITE TO VDR RAM
1201 REM ----------------------------------------------
1210 OUT 129,ADR-(INT(ADR/256))*256
1220 OUT 129,64+ADR/256
1230 OUT 128,DAT
1240 RETURN
2000 REM --------------------------------------------
2010 REM load pattern character
2020 REM --------------------------------------------
2030 AV=ASC(C$)
2040 P=AV*8+2048
2045 OFFS=0
2050 FOR K=1 TO LEN(P$)-1 STEP 2
2060 W$=MID$(P$,K,2)
2070 X$=MID$(W$,1,1):Y$=MID$(W$,2,1)
2080 X=ASC(X$):Y=ASC(Y$)
2090 IF X > 47 AND X < 58 THEN X=X-48:GOTO 2110
2100 IF X > 64 AND X < 71 THEN X=X-55:GOTO 2110
2110 IF Y > 47 AND Y < 58 THEN Y=Y-48:GOTO 2130
2120 IF Y > 64 AND Y < 71 THEN Y=Y-55
2130 DAT=X*16+Y
2140 ADR=P+OFFS
2150 GOSUB 1200
2160 OFFS=OFFS+1
2170 NEXT K
2180 RETURN 